<template>
	<lightning-card title={fileLength} icon-name=standard:file>
		<lightning-layout>
			<lightning-layout-item size="12">
				<div class="file">

					<lightning-file-upload class="slds-file-selector__dropzone slds-file-selector__text slds-medium-show" label="Upload File"
						accept={acceptedFormats} record-id={recordId}
						onuploadfinished={handleUploadFinished}></lightning-file-upload>
				</div>
				<table class="slds-table slds-table_cell-buffer slds-table_bordered" aria-label="Files Retrieving">
					<thead>
						<tr>
							<th scope="col">
								<div class="slds-truncate" title="File Name">File Name</div>
							</th>
							<th scope="col">
								<div class="slds-truncate" title="File Type">File Type</div>
							</th>
							<th scope="col">
								<div class="slds-truncate" title="File Size">File Size</div>
							</th>
						</tr>
					</thead>
					<tbody>
						<template for:each={lstAllFiles} for:item="fileIterator">
							<tr key={fileIterator}>
								<td data-label="File Name">
									{fileIterator.ContentDocument.Title}
								</td>
								<td data-label="File Type">
									<div title={fileIterator.ContentDocument.Title}>
										{fileIterator.ContentDocument.FileType}
									</div>
								</td>
								<td data-label="File Size">
									<div title={fileIterator.ContentDocument.Title}>
										{fileIterator.ContentDocument.ContentSize}
									</div>
								</td>
								<td>
									<lightning-button-menu alternative-text="Show menu" tooltip="Right alignment"  menu-alignment="right" class="slds-m-left_xx-large">
										<lightning-menu-item variant="brand" label="View File Details"
											data-id={fileIterator.ContentDocumentId} onclick={previewHandler}>
										</lightning-menu-item>

										<lightning-menu-item label="Download" variant="brand" onclick={handleClick}
											data-id={fileIterator.ContentDocumentId}></lightning-menu-item>
									</lightning-button-menu>
								</td>
							</tr>

						</template>
					</tbody>
				</table>
			</lightning-layout-item>
		</lightning-layout>
	</lightning-card>
</template>